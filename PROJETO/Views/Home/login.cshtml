@{
    if (User.Identity != null && User.Identity.IsAuthenticated)
    {
        // Se o usu치rio j치 estiver logado, redireciona para a Home autenticada
        Context.Response.Redirect(Url.Action("Index", "Home"));
    }
}


@{
    Layout = "_Layout";
    ViewData["Title"] = "Login";
}

@section Styles {
    <link rel="stylesheet" href="~/css/loginstl.css" />
}

<div class="pg">
    <main>
        <div class="container1">

            <div class="formulario">
                <h2>Login</h2><br>
                <p>Crie uma conta para acompanhar as 치reas monitoradas, receber atualiza칞칫es e participar de nossas iniciativas.</p>

                <!-- 游댳 Formul치rio agora faz POST real -->
                <form asp-action="Login" asp-controller="Home" method="post">
                    <input type="text" name="usuarioLogin" placeholder="Nome de usu치rio" required><br>
                    <input type="password" name="senha" placeholder="Senha" required><br>
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" required>
                            Concordo com os 
                            <a href="#" id="openModal">Termos de uso</a> e 
                            <a href="#" id="openModal2">Pol칤tica de privacidade</a>
                        </label>
                    </div>
                    <button type="submit">Entrar</button>

                    <!-- 游댲 Exibe erro se houver -->
                    @if (ViewBag.Erro != null)
                    {
                        <p class="erro">@ViewBag.Erro</p>
                    }

                    <div class="criar-conta">
                        <p>Ainda n칚o tem uma conta?</p>
                        <a asp-controller="Home" asp-action="Participe" class="cc">Criar conta</a>
                    </div>
                </form>
            </div>

            <div class="imagem-direita">
                <img src="@Url.Content("~/img/Imagem Site 08.png")" alt="Drone" />
            </div>

        </div>
    </main>
</div>

<!-- MODAIS -->
<div id="modal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h2>Termos de Uso</h2>
        <p>Coloque aqui os termos de uso reais do seu site.</p>
    </div>
</div>

<div id="modal2" class="modal">
    <div class="modal-content">
        <span class="close" id="closeModal2">&times;</span>
        <h2>Pol칤tica de Privacidade</h2>
        <p>Coloque aqui sua pol칤tica de privacidade.</p>
    </div>
</div>

<script>
    // Termos de Uso
    const modal = document.getElementById("modal");
    const openModal = document.getElementById("openModal");
    const closeModal = document.getElementById("closeModal");

    openModal.onclick = function(e) {
        e.preventDefault();
        modal.style.display = "block";
    }
    closeModal.onclick = function() {
        modal.style.display = "none";
    }

    // Pol칤tica de Privacidade
    const modal2 = document.getElementById("modal2");
    const openModal2 = document.getElementById("openModal2");
    const closeModal2 = document.getElementById("closeModal2");

    openModal2.onclick = function(e) {
        e.preventDefault();
        modal2.style.display = "block";
    }
    closeModal2.onclick = function() {
        modal2.style.display = "none";
    }

    // Fechar clicando fora
    window.onclick = function(event) {
        if (event.target == modal) modal.style.display = "none";
        if (event.target == modal2) modal2.style.display = "none";
    }
</script>
